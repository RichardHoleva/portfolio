@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  /* nový dvojrozmerový model */
  --ring-size: clamp(260px, 52vw, 350px);  /* veľkosť kruhového textu */
  --bubble-ratio: 0.72;                    /* pomer fotobubliny voči ring-size (desktop) */
  --bubble-size: calc(var(--ring-size) * var(--bubble-ratio));
  --circle-size: calc(var(--bubble-size) * 0.60); /* was 0.7142857, now smaller */
  --circle-offset: calc((var(--bubble-size) - var(--circle-size)) / 2);
  --ring-speed: 20s;
  --bg: #0B1012;
}

.intro-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100svh;
  width: 100%;
  background-color: var(--bg);
  overflow: hidden;
  padding: 0 1rem; /* trocha dýchania na malých zariadeniach */
}

.intro-title {
  font-size: 8rem;
  word-break: break-word;
  font-weight: bold;
  letter-spacing: -8px;
  color: white;
  text-align: center;
  margin: 0;
  font-family: 'Inter', sans-serif;
  position: relative;
  display: inline-block;
}

.intro-letter { display: inline-block; position: relative; }

.moving-dot {
  position: absolute;
  top: 0; left: 0;
  font-weight: 700;
  font-family: inherit;
  line-height: 1;
  pointer-events: none;
  transition: transform 0.4s ease;
  opacity: 1;
  will-change: transform;
}

.final-period { visibility: hidden; }
.final-period.visible { visibility: visible; }

/* ===== Bubble/Layout: centrovanie bez negatívnych marginov ===== */
.bubble {
  position: absolute;
  top: 50%;
  left: 50%;
  width: var(--ring-size);   /* bolo: --bubble-size */
  height: var(--ring-size);  /* ring je vonkajší obal pre SVG text */
  transform: translate(-50%, -50%);
  z-index: 10;
}

/* Delayed appearance */
.bubble-delayed {
  opacity: 0;
  transform: translate(-50%, -50%) scale(.9);
  transition: opacity .8s ease, transform .8s cubic-bezier(.25,.9,.35,1);
}
.bubble-delayed.visible {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}

/* vnútorný kruh drží pôvodný pomer a offset */
.bubble-circle {
  position: absolute;
  overflow: hidden;
  /* centrovanie voči ring-size */
  top: calc((var(--ring-size) - var(--bubble-size)) / 2);
  left: calc((var(--ring-size) - var(--bubble-size)) / 2);
  width: var(--bubble-size);
  height: var(--bubble-size);
  border: 2px solid white;
  border-radius: 50%;
  transition: all 0.3s ease;
}
/* obraz vnútri */
.bubble-image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 1;
  clip-path: circle(0px at 50% 50%);
  transition: clip-path 0.6s ease-out;
  will-change: clip-path;
  pointer-events: auto;
  filter: grayscale(100%);
}

.bubble-circle:hover .bubble-image { clip-path: circle(50% at 50% 50%); }
.bubble-image.reversing { transition: clip-path 0.45s ease-in; }

/* rotujúci text má veľkosť podľa bubliny */
.rotating-text {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  animation: rotate var(--ring-speed) linear infinite;
}

.circle-text {
  font-family: 'Inter', sans-serif;
  font-size: clamp(10px, 1.25vw, 14px);
  font-weight: 800;
  fill: rgb(219, 219, 219);
  letter-spacing: clamp(7px, 1.1vw, 11px);
}

@keyframes rotate { from { transform: rotate(0deg);} to { transform: rotate(360deg);} }

/* Accessibility: reduce motion */
@media (prefers-reduced-motion: reduce) {
  .rotating-text { animation: none; }
}

/* ===== Breakpointy (ľahké korekcie typografie) ===== */
@media (max-width: 1024px) {
    .circle-text, .ring-text {
    font-size: clamp(9px, 3.2vw, 11px);
    letter-spacing: clamp(5px, 1.8vw, 9px);
  }
  
  :root {
    --bubble-ratio: 0.60;
    --circle-size: calc(var(--bubble-size) * 0.52); /* smaller for tablet */
    --circle-offset: calc((var(--bubble-size) - var(--circle-size)) / 2);
  }

  .intro-title {
    font-size: clamp(2.6rem, 11vw, 7rem);
    letter-spacing: -6px;
  }
}

@media (max-width: 768px) {
    .circle-text, .ring-text {
    font-size: clamp(9px, 3.2vw, 11px);
    letter-spacing: clamp(5px, 1.8vw, 9px);
  }
  
  :root {
    --bubble-ratio: 0.52;
    --circle-size: calc(var(--bubble-size) * 0.44); /* even smaller for mobile */
    --circle-offset: calc((var(--bubble-size) - var(--circle-size)) / 2);
  }

  .intro-title {
    font-size: clamp(2.2rem, 10.5vw, 4.4rem);
    letter-spacing: -3px;
  }

}

/* Telefony – nechaj kruh väčší, ale stále fluidný (už rieši clamp) */
@media (max-width: 480px) {
    .circle-text, .ring-text {
    font-size: clamp(9px, 3.2vw, 11px);
    letter-spacing: clamp(5px, 1.8vw, 9px);
  }
  
  .intro-title {
    font-size: clamp(2rem, 12vw, 3.6rem);
    letter-spacing: -2px;
  }
}

/* Dotykové zariadenia: vždy odkryté */
@media (hover: none), (pointer: coarse) {
  .bubble-image {
    clip-path: circle(75% at 50% 50%) !important;
    filter: grayscale(100%);
    transition: none;
  }
  .bubble-circle:hover .bubble-image {
    clip-path: circle(80% at 50% 50%);
  }
}

/* Page transition overlay (Intro -> Main) */
.page-transition-overlay {
  position: fixed;
  inset: 0;
  background: var(--bg);
  opacity: 0;
  transition: opacity .5s ease;
  pointer-events: none;
  z-index: 9999;
}
.page-transition-overlay.active {
  opacity: 1;
  pointer-events: all;
}

/* Subtílne stíšenie prvkov pri odchode */
.intro-container .bubble,
.intro-container .rotating-text {
  transition: opacity .4s ease, transform .5s ease;
}
.page-transition-overlay.active ~ .bubble {
  opacity: 0.5;
  transform: translate(-50%, -50%) scale(0.98);
}
